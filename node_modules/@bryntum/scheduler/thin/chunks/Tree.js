/*!
 *
 * Bryntum Scheduler 5.1.4 (TRIAL VERSION)
 *
 * Copyright(c) 2022 Bryntum AB
 * https://bryntum.com/contact
 * https://bryntum.com/license
 *
 */
(function(a,b){function F(a,b){return _cmpb(b- -0x15c,a);}const c=a();while(!![]){try{const d=-parseInt(F(0x6e,0xb9))/0x1*(-parseInt(F(0xb0,0xb7))/0x2)+-parseInt(F(0x34,0x73))/0x3*(-parseInt(F(0x37,0x60))/0x4)+parseInt(F(0xb8,0xef))/0x5*(parseInt(F(0xfb,0xde))/0x6)+-parseInt(F(0xda,0xa4))/0x7+parseInt(F(0xc7,0x7c))/0x8*(-parseInt(F(0x6b,0x6d))/0x9)+-parseInt(F(0x29,0x61))/0xa*(parseInt(F(0x105,0xe9))/0xb)+parseInt(F(0x95,0xaa))/0xc*(parseInt(F(0x78,0xb4))/0xd);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(_cmpa,0x504c6));import{ColumnStore,Column,GridFeatureManager}from'./GridBase.js';import{DomHelper,InstancePlugin,Delayable}from'./Editor.js';function _cmpG(a,b){return _cmpb(b- -0x8d,a);}let currentParentHasIcon=![];class TreeColumn extends Column{static get['defaults'](){return{'tree':!![],'hideable':![],'minWidth':0x96};}static get[_cmpG(0x161,0x171)](){function H(a,b){return _cmpG(b,a-0x108);}return[{'name':H(0x26f,0x243),'defaultValue':'b-icon\x20b-icon-tree-expand'},{'name':H(0x2a0,0x2a6),'defaultValue':H(0x275,0x269)},{'name':H(0x2ac,0x2d5)},{'name':H(0x271,0x250)},{'name':'indentSize','defaultValue':1.7},{'name':H(0x236,0x207),'defaultValue':'b-icon\x20b-icon-tree-leaf'},{'name':'editTargetSelector','defaultValue':H(0x26c,0x265)}];}static get['type'](){function I(a,b){return _cmpG(a,b- -0x2fa);}return I(-0x1a2,-0x190);}constructor(a,b){super(...arguments);const c=this;c[J(-0x7b,-0x9b)]=c[J(-0x2f,-0x2d)],c[J(0x6,-0x3b)](J(-0x71,-0x2d),![]);function J(a,b){return _cmpG(a,b- -0x1cd);}c[J(-0x24,-0x31)]&&(c[J(-0x5f,-0x28)]=c[J(0x11,-0x31)]),c[J(0x13,-0x31)]=c[J(-0x21,-0x52)][J(0xe,-0x12)](c);}[_cmpG(0x13f,0x17b)](a){const b=this,{grid:c,column:d,cellElement:e,row:f,record:g,isExport:h}=a,i=g['instanceMeta'](c['store']),j=!g[K(0x123,0x151)]&&i['collapsed'],k={'className':K(0xe5,0xd7)},l=[k],m={'className':K(0x127,0xfd),'tag':g[K(0x122,0x118)]?'a':'div','href':g[K(0x122,0x107)],'target':g[K(0xe0,0xff)],'children':l},n={'b-tree-parent-row':0x0,'b-tree-collapsed':0x0,'b-tree-expanded':0x0,'b-loading-children':0x0};let o,p,{value:q}=a;if(b[K(0x113,0xcd)]){var r;const x=b['originalRenderer'](a),y=(r=c['hasFrameworkRenderer'])===null||r===void 0x0?void 0x0:r[K(0x110,0xff)](c,{'cellContent':x,'column':d});o=typeof x===K(0x133,0xf7)&&!y,q=y?'':x===![]?e[K(0x102,0xee)]:x,a[K(0xfc,0xf0)]=x;}if(!o){var s;q=String((s=q)!==null&&s!==void 0x0?s:'');}if(h)return q;if(!g['isLeaf']){var t;const z=!g[K(0x105,0x148)](c[K(0xdd,0xd8)]),A=z?b[K(0xd5,0x96)]:b['collapseIconCls'],B=z?b[K(0x112,0x11e)]:b['expandedFolderIconCls'];n[K(0xc0,0x81)]=0x1,n[K(0xd9,0xb8)]=z,n[K(0x11c,0xfe)]=!z,n[K(0xf9,0xe5)]=i[K(0x108,0x14f)],e['classList'][K(0x12f,0x136)]('b-tree-parent-cell'),l[K(0x128,0x13e)]({'tag':'i','className':{'b-tree-expander':0x1,[A]:0x1,'b-empty-parent':!i[K(0x108,0x132)]&&g[K(0x107,0x134)]!==!![]&&!((t=g['children'])!==null&&t!==void 0x0&&t[K(0xa3,0xd6)])}}),currentParentHasIcon=p=a[K(0xea,0xe8)]||g[K(0xea,0xff)]||B;}else e['classList']['add'](K(0xe4,0xc9)),p=a[K(0xea,0x114)]||g[K(0xea,0xc4)]||b[K(0x9c,0xc5)];p&&l[K(0xd1,0xd0)](l['length']-0x1,0x0,{'tag':'i','className':{'b-tree-icon':0x1,[p]:0x1}});if(f[K(0x11d,0x156)]){f[K(0x11a,0xe5)](n);if(!g['isLeaf']){f[K(0xe6,0x104)](K(0xac,0x8e),!j);if(j)f['removeAttribute'](K(0xce,0xb8));else for(const C in c[K(0x132,0x11f)]){var u,v;const D=f[K(0xcd,0x103)][C];DomHelper[K(0x103,0x135)](D,{'aria-owns':(u=g[K(0x107,0xf8)])!==null&&u!==void 0x0&&u[K(0xa3,0x67)]?(v=g[K(0x107,0x10a)])===null||v===void 0x0?void 0x0:v[K(0xc3,0x80)](E=>c['id']+'-'+C+'-'+E['id'])[K(0xc1,0x8c)]('\x20'):null});}}}function K(a,b){return _cmpG(b,a- -0x92);}o||b[K(0xa0,0xcf)]||!q['includes']('<')?(o&&Object[K(0xfa,0xfb)](k,q),k[K(0x107,0xcf)]=k[K(0x107,0x114)]||[],k[K(0x107,0xf4)][K(0x128,0x102)](o?null:q)):k[K(0xfe,0xf5)]=q;const w=g[K(0x101,0x115)]*b['indentSize']+(g[K(0x123,0x143)]?currentParentHasIcon?0x2:p?0.5:0.4:0x0);return m[K(0xab,0xb1)]=K(0xdc,0x109)+w+'em',m;}[_cmpG(0x16a,0x1a1)](a){const b=super[L(0x47e,0x458)](a);b[L(0x479,0x45f)]=this[L(0x482,0x4cc)];function L(a,b){return _cmpG(b,a-0x2dd);}return b;}}function _cmpb(a,b){const c=_cmpa();return _cmpb=function(d,e){d=d-0x1bb;let f=c[d];return f;},_cmpb(a,b);}function _cmpa(){const af=['beforeToggleNode','html','isArray','setData','childLevel','innerHTML','setAttributes','column','isExpanded','collapseIconCls','children','isLoadingChildren','includes','renderer','bindStore','Tree#toggleCollapse\x20must\x20be\x20passed\x20a\x20record','subGrid','htmlEncode','getCurrentConfig','call','getById','collapsedFolderIconCls','originalRenderer','idField','b-tree','collapseNode','onLoadChildrenException','Tree','collapseByKey','assignCls','102beDikH','b-tree-expanded','isRow','trigger','mixin','construct','preventDefault','href','isLeaf','ancestorsExpanded','collapse','22UoflQe','b-tree-cell-inner','unshift','bind','record','onLoadChildren','168175DoanPZ','onElementClick','expandOrCollapseAll','add','$name','rowIndex','subGrids','object','leafIconCls','4AthcYB','3174940fSBVwq','Grid','shouldHtmlEncode','collapseAll','isDestroyed','length','toggleCollapse','expandIfSingleColumn','push','TreeColumn','count','expandOnCellClick','747wnHAQY','style','aria-expanded','closest','all','columns','1287795dFpsZX','client','modelClass','forEach','hiddenByCollapse','rowManager','getRowFor','To\x20use\x20the\x20tree\x20feature,\x20one\x20column\x20should\x20be\x20configured\x20with\x20tree:\x20true','registerColumnType','272HMzNUC','onBeforeLoadChildren','expandAll','collapseIfSingleColumn','getCellDataFromEvent','onBeforeToggleNode','traverse','b-tree-parent-row','join','parent','map','_treeColumn','classList','toggleNode','then','getCell','element','refreshRows','isActionable','isTogglingNode','elements','aria-owns','_$name','Tree\x20feature\x20cannot\x20be\x20disabled','splice','.b-tree-cell-value','expandByKey','renderCell','expandIconCls','instanceMeta','expandedFolderIconCls','tree','b-tree-collapsed','isParent','b-icon\x20b-icon-tree-collapse','padding-inline-start:','store','treeColumn','fields','target','4052643bxLdsm','b-toggling-node','collapsed','b-tree-leaf-cell','b-tree-cell-value','setAttribute','1469592ZPxXDg','expand','treeRenderer','iconCls','requestAnimationFrame','doDisable','toggleCollapseByKey','addCls','onElementPointerUp','featureClass','26XYukeK','detachListeners','removeCls','82tdndCk','defaultConfig','7309ZPECMg','.b-tree-expander','remove','b-loading-children','assign','rootNode','rendererHtml'];_cmpa=function(){return af;};return _cmpa();}ColumnStore[_cmpG(0xfe,0x14a)](TreeColumn,!![]),TreeColumn['exposeProperties'](),TreeColumn[_cmpG(0x11e,0x161)]=_cmpG(0x106,0x139);const immediatePromise=Promise['resolve']();class Tree extends InstancePlugin[_cmpG(0x1ad,0x1b1)](Delayable){static get[_cmpG(0x194,0x1c2)](){function M(a,b){return _cmpG(b,a- -0x47);}return M(0x163,0x16a);}static get[_cmpG(0x199,0x187)](){function N(a,b){return _cmpG(b,a-0xb9);}return{'expandOnCellClick':![],'keyMap':{'\x20':N(0x238,0x22d),'ArrowRight':N(0x1f0,0x233),'Shift+ArrowRight':N(0x21e,0x1da),'ArrowLeft':N(0x207,0x23d),'Shift+ArrowLeft':N(0x264,0x262)}};}static get['pluginConfig'](){function O(a,b){return _cmpG(a,b- -0x232);}return{'assign':[O(-0xdc,-0xff),O(-0x103,-0xe5),'collapse',O(-0x100,-0xb8),'expandTo',O(-0x12d,-0xfc)],'chain':[O(-0xfb,-0xb1),O(-0x29,-0x73),O(-0x5e,-0x95)]};}[_cmpG(0x1a0,0x1b2)](a,b){super[P(0x372,0x3b8)](a,b),this['rowManager']=a[P(0x307,0x2ef)];!this[P(0x330,0x31c)]&&console['info'](P(0x309,0x352));function P(a,b){return _cmpG(b,a-0x1c0);}a[P(0x32f,0x36f)]&&this['bindStore'](a['store']);}[_cmpG(0x154,0x17e)](a){function Q(a,b){return _cmpG(a,b- -0xcc);}if(a)throw new Error(Q(0x7d,0x96));}get[_cmpG(0x186,0x16f)](){function R(a,b){return _cmpG(a,b- -0x184);}return this[R(-0x33,-0x41)][R(-0xb,-0x15)];}get[_cmpG(0x195,0x170)](){const {client:a}=this;function S(a,b){return _cmpG(b,a- -0x160);}return(!this['_treeColumn']||!a[S(-0x1f,-0x22)][S(0x3b,0x10)](this['_treeColumn']))&&(this[S(-0xa,-0x14)]=a[S(-0x1f,-0x19)]['find'](b=>b instanceof TreeColumn)),this['_treeColumn'];}[_cmpG(0x172,0x19d)](a){this[T(0xfc,0x140)]('store');function T(a,b){return _cmpG(b,a- -0x88);}a['on']({'name':T(0xe7,0xb5),'beforeLoadChildren':'onBeforeLoadChildren','loadChildren':T(0x135,0x103),'loadChildrenException':'onLoadChildrenException','beforeToggleNode':T(0xc8,0xdc),'thisObj':this});}async[_cmpG(0xfa,0x136)](a,b,c=![]){function U(a,b){return _cmpG(b,a- -0x117);}if(a==null)throw new Error(U(0x87,0x9f));const d=this,{store:e,client:f}=d,{rowManager:g}=f,h=e[U(0x8c,0xd1)](a),i=h[U(0x51,0xd)](e);if(await e[U(0x1f,0x27)](h,b)){const j=g['getRowFor'](h);if(j&&h[U(0x9f,0x71)]()){const k=d[U(0x59,0x43)]&&!d[U(0x59,0x90)][U(0x88,0x63)]['collapsed']&&j[U(0x43,0x66)](d['treeColumn']['id']);k&&j[U(0x4f,0x42)](k);}!d[U(0x47,0x39)]&&(f[U(0x44,0x1a)][U(0x40,0x2d)][U(0xaa,0x94)](U(0x5d,0x41)),d['isTogglingNode']=!![],d[U(0x66,0x26)](()=>{f[V(-0x7f,-0x47)][V(-0x22,-0x4b)][V(0x2e,-0x18)](V(-0x11,-0x2e));function V(a,b){return U(b- -0x8b,a);}d[V(-0x22,-0x44)]=![];})),f[U(0x99,0x98)](i[U(0x5e,0x1a)]?U(0x91,0xa7):'expandNode',{'source':f,'record':h}),f[U(0x99,0xd4)](U(0x41,0x4b),{'source':f,'record':h,'collapse':i['collapsed']});}}async['collapse'](a){function W(a,b){return _cmpG(a,b- -0x289);}return this[W(-0x151,-0x153)](a,!![]);}async[_cmpG(0x1c6,0x17a)](a){function X(a,b){return _cmpG(b,a- -0x16c);}return this[X(-0x36,-0x5c)](a,![]);}[_cmpG(0x166,0x150)]({record:a,collapse:b}){function Y(a,b){return _cmpG(a,b- -0x32d);}this['client']['trigger'](Y(-0x1d3,-0x19e),{'record':a,'collapse':b});}[_cmpG(0x151,0x14c)]({source:a,params:b}){const c=a[Z(-0xcf,-0x9c)](b[a[Z(-0x132,-0xfb)][Z(-0xb4,-0x99)]]),d=this[Z(-0x147,-0xfc)]['rowManager'][Z(-0x142,-0xf7)](c);function Z(a,b){return _cmpG(a,b- -0x23f);}d&&d[Z(-0x85,-0xbf)](Z(-0xe2,-0xb4));}[_cmpG(0x1a4,0x1bd)]({source:a,params:b}){const c=a[a0(0x33d,0x36b)](b[a[a0(0x2db,0x30c)][a0(0x362,0x36e)]]),d=this[a0(0x30d,0x30b)][a0(0x326,0x30f)][a0(0x2f6,0x310)](c);function a0(a,b){return _cmpG(a,b-0x1c8);}d&&d[a0(0x382,0x34d)]('b-loading-children');}[_cmpG(0x19a,0x1a9)]({record:a}){function a1(a,b){return _cmpG(b,a-0x6e);}const b=this[a1(0x1b1,0x167)]['rowManager'][a1(0x1b6,0x19f)](a);b&&b[a1(0x1f3,0x1e5)]('b-loading-children');}async['expandOrCollapseAll'](a=!![],b=this[_cmpG(0x1bb,0x16f)]['rootNode']){function a2(a,b){return _cmpG(b,a-0x3fe);}const {client:c,store:d}=this,e=[],f=[];return c[a2(0x5ae,0x5cd)]('beforeToggleAllNodes',{'source':c,'collapse':a}),d['suspendEvents'](),d[a2(0x54f,0x54c)](g=>{function a3(a,b){return a2(b- -0x453,a);}const h=g[a3(0x13b,0x113)](d);if(!g[a3(0x18d,0x160)]){if(a&&!h[a3(0x153,0x120)])this[a3(0xdb,0xe1)](g,!![],!![]),f[a3(0x11a,0xe3)](...g[a3(0x18a,0x144)]);else!a&&h[a3(0xfb,0x120)]&&(Array[a3(0x14c,0x13c)](g[a3(0x152,0x144)])&&f[a3(0x121,0xe3)](...g['children']),e[a3(0xc6,0xe3)](this[a3(0x9c,0xe1)](g,![],!![])));}},b,b===d[a2(0x58b,0x548)]),d['resumeEvents'](),(a?immediatePromise:Promise[a2(0x53e,0x51f)](e))[a2(0x557,0x557)](()=>{c[a4(0x5ae,0x562)](a);function a4(a,b){return a2(a-0x54,b);}f[a4(0x587,0x574)]&&(a?d[a4(0x602,0x5d0)](a4(0x5dc,0x5c0),{'records':f,'isCollapse':!![],'isCollapseAll':!![]}):d[a4(0x602,0x631)]('add',{'records':f,'isExpand':!![],'isExpandAll':!![]})),c[a4(0x602,0x61b)]('toggleAllNodes',{'source':c,'collapse':a});});}async[_cmpG(0x128,0x133)](){function a5(a,b){return _cmpG(a,b- -0x100);}return this[a5(0xe5,0xc0)](!![]);}async[_cmpG(0x191,0x14d)](){return this['expandOrCollapseAll'](![]);}async['expandTo'](a){const b=this,{store:c}=b,d=c[a6(-0x12,0x7)](a);function a6(a,b){return _cmpG(a,b- -0x19c);}if(d[a6(-0x4a,-0x34)](b['store'])[a6(-0x43,-0x56)]===![])return;if(!d[a6(0x55,0x1a)]()){const e=[];for(let f=d[a6(-0x85,-0x48)];f&&!f['isRoot'];f=f[a6(-0x5,-0x48)]){!f[a6(-0x41,-0x5)](c)&&e['unshift'](f);}await e[a6(-0x99,-0x57)](async g=>{function a7(a,b){return a6(a,b- -0xf5);}!b[a7(-0x17b,-0x15d)]&&await b[a7(-0x17c,-0x15b)](g,![],!![]);}),b[a6(-0x51,-0x59)]['refreshRows']();}!b[a6(-0x64,-0x68)]&&await b['client']['scrollRowIntoView'](d);}[_cmpG(0x168,0x181)](a){function a8(a,b){return _cmpG(b,a-0x463);}const b=this,c=a[a8(0x5d5,0x5f9)],d=b['client'][a8(0x5b2,0x5f4)](a),e=c[a8(0x5a2,0x596)](a8(0x5ec,0x632));(e||b[a8(0x59e,0x5b6)]&&d!==null&&d!==void 0x0&&d[a8(0x61f,0x634)][a8(0x5cf,0x5ee)])&&b['toggleCollapse'](d['record']);}[_cmpG(0x1a7,0x1bf)](a){function a9(a,b){return _cmpG(a,b-0x456);}a[a9(0x5bf,0x5c8)][a9(0x5e1,0x595)]('.b-tree-expander')&&a[a9(0x648,0x609)]();}[_cmpG(0x172,0x17f)](a){const {focusedCell:b}=this[aa(0x2b3,0x2cb)];function aa(a,b){return _cmpG(b,a-0x170);}if((b===null||b===void 0x0?void 0x0:b[aa(0x333,0x37b)])>-0x1&&!b[aa(0x2cd,0x281)])return this[aa(0x2a6,0x28b)](b['id']),!![];return![];}[_cmpG(0x12c,0x137)](){function ab(a,b){return _cmpG(a,b- -0x1f8);}if(this[ab(-0xbd,-0xb5)][ab(-0xb9,-0xb7)]['count']===0x1)return this[ab(-0x5a,-0x93)]();return![];}[_cmpG(0x187,0x165)](){function ac(a,b){return _cmpG(b,a-0x45e);}const a=this,{client:b}=a,{focusedCell:c}=b,d=c===null||c===void 0x0?void 0x0:c[ac(0x61a,0x5eb)];if(c!==null&&c!==void 0x0&&c['column']['tree']&&d[ac(0x5ca,0x59e)]&&d[ac(0x5c6,0x5c2)](b[ac(0x5cd,0x583)])[ac(0x5d3,0x5ba)])return a['expand'](d),!![];return![];}[_cmpG(0x183,0x14e)](){if(this[ad(-0x1e3,-0x1ee)][ad(-0x1e9,-0x1f0)][ad(-0x225,-0x1f7)]===0x1)return this[ad(-0x180,-0x186)]();function ad(a,b){return _cmpG(a,b- -0x331);}return![];}[_cmpG(0x1bd,0x1ab)](){function ae(a,b){return _cmpG(b,a- -0x1f);}const a=this,{client:b}=a,{focusedCell:c}=b,d=c===null||c===void 0x0?void 0x0:c[ae(0x19d,0x15b)];if(c!==null&&c!==void 0x0&&c[ae(0x177,0x179)][ae(0x14b,0x131)]){if(d[ae(0x14d,0x11e)]&&!d['instanceMeta'](b['store'])[ae(0x156,0x10e)])return a[ae(0x198,0x1c0)](d),!![];if(d[ae(0x135,0x121)]&&!d[ae(0x135,0x124)]['isRoot'])return b['focusCell']({'record':d[ae(0x135,0x17e)],'column':c['column']}),!![];}return![];}}Tree[_cmpG(0x1cc,0x182)]=_cmpG(0x195,0x1a7),Tree[_cmpG(0x176,0x161)]=_cmpG(0x1cb,0x1aa),GridFeatureManager['registerFeature'](Tree,![],_cmpG(0x11a,0x131)),GridFeatureManager['registerFeature'](Tree,!![],'TreeGrid');export{Tree,TreeColumn};